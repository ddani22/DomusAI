# ============================================================================
# CONFIGURACIÓN DE PERFILES DE CONSUMO
# ============================================================================
#
# Define diferentes perfiles de consumo para generar datos más realistas.
# Puedes modificar estos valores para ajustar los patrones.
#

profiles:
  # Hogar pequeño (1-2 personas, apartamento)
  small:
    base_consumption: 0.5      # kW - Consumo base nocturno
    morning_peak: 2.5          # kW - Pico matutino (7-9 AM)
    evening_peak: 3.0          # kW - Pico nocturno (18-21 PM)
    day_consumption: 1.0       # kW - Consumo diurno
    noise_std: 0.15            # Desviación estándar del ruido
    
    # Descripción del perfil
    description: "Apartamento pequeño, 1-2 personas, sin grandes electrodomésticos"
    typical_appliances:
      - Refrigerador
      - TV pequeño
      - Microondas
      - Computadora portátil
      - Iluminación LED
  
  # Hogar mediano (3-4 personas, casa familiar)
  medium:
    base_consumption: 0.6      # kW
    morning_peak: 3.0          # kW
    evening_peak: 4.0          # kW
    day_consumption: 1.5       # kW
    noise_std: 0.20
    
    description: "Casa familiar estándar, 3-4 personas, electrodomésticos típicos"
    typical_appliances:
      - Refrigerador grande
      - TV 50"
      - Lavadora/Secadora
      - Horno eléctrico
      - Aire acondicionado
      - Computadoras
      - Iluminación mixta
  
  # Hogar grande (5+ personas, casa grande)
  large:
    base_consumption: 0.8      # kW
    morning_peak: 4.0          # kW
    evening_peak: 5.5          # kW
    day_consumption: 2.0       # kW
    noise_std: 0.25
    
    description: "Casa grande, 5+ personas, múltiples sistemas eléctricos"
    typical_appliances:
      - 2 Refrigeradores
      - Múltiples TVs
      - Lavadora/Secadora industrial
      - Horno + Cocina eléctrica
      - Aire acondicionado central
      - Múltiples computadoras
      - Sistema de iluminación completo
      - Piscina con bomba

# ============================================================================
# CONFIGURACIÓN DE PATRONES TEMPORALES
# ============================================================================

temporal_patterns:
  # Patrones diarios (por hora)
  hourly:
    night:              # 00:00 - 06:00
      hours: [0, 1, 2, 3, 4, 5]
      consumption_factor: 0.3   # 30% del consumo pico
      description: "Noche - Solo electrodomésticos en standby"
    
    morning_peak:       # 06:00 - 09:00
      hours: [6, 7, 8]
      consumption_factor: 1.2   # 120% del consumo base
      description: "Pico matutino - Preparación del día"
    
    day:                # 09:00 - 18:00
      hours: [9, 10, 11, 12, 13, 14, 15, 16, 17]
      consumption_factor: 0.7   # 70% del consumo pico
      description: "Día - Consumo moderado"
    
    evening_peak:       # 18:00 - 23:00
      hours: [18, 19, 20, 21, 22]
      consumption_factor: 1.5   # 150% del consumo base
      description: "Pico nocturno - Mayor actividad"
    
    late_evening:       # 23:00
      hours: [23]
      consumption_factor: 0.6
      description: "Transición a la noche"
  
  # Patrones semanales
  weekly:
    weekday:
      days: [0, 1, 2, 3, 4]  # Lunes-Viernes
      morning_multiplier: 1.2
      evening_multiplier: 1.3
      description: "Días laborables - Picos pronunciados"
    
    weekend:
      days: [5, 6]  # Sábado-Domingo
      morning_multiplier: 0.9
      evening_multiplier: 1.1
      description: "Fin de semana - Consumo más distribuido"

# ============================================================================
# CONFIGURACIÓN DE ANOMALÍAS
# ============================================================================

anomalies:
  # Tipos de anomalías a generar
  types:
    high_consumption:
      severity: HIGH
      consumption_range: [5.0, 7.0]  # kW
      probability: 0.33
      description: "Consumo excesivo prolongado (>5 kW)"
      possible_causes:
        - "Aire acondicionado + horno + lavadora simultáneos"
        - "Calefacción eléctrica en invierno"
        - "Carga de vehículo eléctrico"
    
    unusual_spike:
      severity: MEDIUM
      multiplier_range: [2.0, 3.0]  # Multiplicador sobre consumo actual
      probability: 0.33
      description: "Pico inusual fuera de horas pico"
      possible_causes:
        - "Electrodoméstico potente encendido"
        - "Sistema de calefacción"
        - "Múltiples aparatos simultáneos"
    
    minor_variation:
      severity: LOW
      multiplier_range: [1.5, 2.0]
      probability: 0.34
      description: "Variación menor del patrón normal"
      possible_causes:
        - "Uso atípico de electrodomésticos"
        - "Visitas o eventos en casa"

# ============================================================================
# CONFIGURACIÓN DE VARIABLES RELACIONADAS
# ============================================================================

electrical_parameters:
  voltage:
    mean: 235.0          # Voltaje promedio (V)
    std: 5.0             # Desviación estándar
    min: 220.0           # Voltaje mínimo permitido
    max: 245.0           # Voltaje máximo permitido
    description: "Estándar europeo 230V ±6%"
  
  reactive_power:
    factor_range: [0.10, 0.20]  # 10-20% de la potencia activa
    description: "Potencia reactiva típica en hogares"
  
  sub_metering:
    sub_metering_1:      # Cocina
      name: "Cocina"
      ratio_range: [0.0, 0.4]  # 0-40% del consumo total
      description: "Horno, microondas, tostadora (kW)"
    
    sub_metering_2:      # Lavandería
      name: "Lavandería"
      ratio_range: [0.0, 0.3]  # 0-30% del consumo total
      description: "Lavadora, secadora (kW)"
    
    sub_metering_3:      # Agua/Clima
      name: "Agua/Clima"
      ratio_range: [0.0, 0.3]  # 0-30% del consumo total
      description: "Calentador de agua, aire acondicionado (kW)"

# ============================================================================
# CONFIGURACIÓN DE VALIDACIONES
# ============================================================================

validations:
  enabled: true
  
  checks:
    - name: "no_nan"
      description: "Sin valores NaN en ninguna columna"
      critical: true
    
    - name: "no_duplicates"
      description: "Sin timestamps duplicados"
      critical: true
    
    - name: "voltage_range"
      description: "Voltaje entre 220V y 245V"
      critical: true
    
    - name: "power_positive"
      description: "Potencia activa >= 0"
      critical: true
    
    - name: "submetering_coherent"
      description: "Suma de sub-metering <= potencia total"
      critical: true
    
    - name: "ohms_law"
      description: "I = P/V × 1000 (tolerancia < 0.1%)"
      critical: false

# ============================================================================
# METADATOS
# ============================================================================

metadata:
  version: "1.0.0"
  author: "DomusAI Team"
  date: "2025-10-29"
  description: |
    Configuración para el generador de datos sintéticos de consumo energético.
    Los datos generados imitan patrones reales de consumo doméstico con
    estacionalidad diaria/semanal, ruido aleatorio y anomalías controladas.
